!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{iQDh:function(n,i,r){"use strict";r.r(i),r.d(i,"DriversPageModule",(function(){return K}));var o=r("ofXK"),b=r("3Pt+"),c=r("TEn/"),a=r("tyNb"),s=r("fXoL"),l=r("hrwK"),u=r("OlR4");function f(t,e){if(1&t&&(s.Lb(0,"a",10),s.kc(1),s.Kb()),2&t){var n=s.Vb().$implicit;s.dc("href","tel:",n.phoneNumber,"",s.hc),s.yb(1),s.lc(n.phoneNumber)}}function p(t,e){if(1&t){var n=s.Mb();s.Lb(0,"ion-button",11),s.Tb("click",(function(){s.gc(n);var t=s.Vb().$implicit;return s.Vb().changeStatus(t.key,t.isApproved)})),s.kc(1," Approve"),s.Kb()}}function d(t,e){if(1&t){var n=s.Mb();s.Lb(0,"ion-button",11),s.Tb("click",(function(){s.gc(n);var t=s.Vb().$implicit;return s.Vb().changeStatus(t.key,t.isApproved)})),s.kc(1," DisApprove"),s.Kb()}}function h(t,e){if(1&t){var n=s.Mb();s.Lb(0,"tr"),s.Lb(1,"td"),s.Lb(2,"p"),s.kc(3),s.Wb(4,"date"),s.Kb(),s.Kb(),s.Lb(5,"td"),s.Lb(6,"p",3),s.kc(7),s.Kb(),s.Lb(8,"p"),s.kc(9),s.Kb(),s.Lb(10,"p"),s.jc(11,f,2,2,"a",4),s.Kb(),s.Kb(),s.Lb(12,"td"),s.Lb(13,"p"),s.kc(14),s.Kb(),s.Lb(15,"p"),s.kc(16),s.Kb(),s.Kb(),s.Lb(17,"td"),s.Lb(18,"p"),s.kc(19),s.Kb(),s.Kb(),s.Lb(20,"td"),s.jc(21,p,2,0,"ion-button",5),s.jc(22,d,2,0,"ion-button",5),s.Kb(),s.Lb(23,"td"),s.Lb(24,"ion-button",6),s.Jb(25,"ion-icon",7),s.Kb(),s.Lb(26,"ion-button",8),s.Tb("click",(function(){s.gc(n);var t=e.$implicit;return s.Vb().delete(t.key)})),s.Jb(27,"ion-icon",9),s.Kb(),s.Kb(),s.Kb()}if(2&t){var i=e.$implicit;s.yb(3),s.lc(s.Yb(4,11,i.createdAt,"MMM dd yyyy")),s.yb(4),s.lc(i.name),s.yb(2),s.lc(i.email),s.yb(2),s.bc("ngIf",i.phoneNumber),s.yb(3),s.nc("",i.brand," ",i.model,""),s.yb(2),s.lc(i.plate),s.yb(3),s.lc(i.type),s.yb(2),s.bc("ngIf",!i.isApproved),s.yb(1),s.bc("ngIf",i.isApproved),s.yb(2),s.dc("routerLink","/driverinfo/",i.key,"")}}var v,y,m,k=[{path:"",component:(v=function(){function n(e,i,r){t(this,n),this.driverService=e,this.common=i,this.router=r,this.drivers=[]}var i,r,o;return i=n,(r=[{key:"ngOnInit",value:function(){this.getDrivers()}},{key:"getDrivers",value:function(){var t=this;this.driverService.getDrivers().snapshotChanges().subscribe((function(e){null!=e&&(t.drivers=[],e.forEach((function(e){return t.drivers.push(Object.assign({key:e.key},e.payload.val()))})),t.drivers=t.drivers.reverse())}))}},{key:"delete",value:function(t){var e=this;this.driverService.deleteDriver(t).then((function(t){e.common.showToast("Deleted")})).catch((function(t){return e.common.showLoader()}))}},{key:"changeStatus",value:function(t,e){var n=this;this.driverService.updateDriver(t,{isApproved:e=!e}).then((function(){n.common.showToast("Updated")})).catch((function(t){return n.common.showToast("error")}))}}])&&e(i.prototype,r),o&&e(i,o),n}(),v.\u0275fac=function(t){return new(t||v)(s.Ib(l.a),s.Ib(u.a),s.Ib(a.g))},v.\u0275cmp=s.Cb({type:v,selectors:[["app-drivers"]],decls:25,vars:2,consts:[["slot","start"],[1,"ion-padding"],[4,"ngFor","ngForOf"],[1,"bold"],["target","_blank",3,"href",4,"ngIf"],["fill","outline","color","primary","size","small",3,"click",4,"ngIf"],["fill","clear","size","small",3,"routerLink"],["name","eye"],["fill","clear","color","danger","size","small",3,"click"],["name","trash"],["target","_blank",3,"href"],["fill","outline","color","primary","size","small",3,"click"]],template:function(t,e){1&t&&(s.Lb(0,"ion-header"),s.Lb(1,"ion-toolbar"),s.Lb(2,"ion-buttons",0),s.Jb(3,"ion-menu-button"),s.Kb(),s.Lb(4,"ion-title"),s.kc(5),s.Kb(),s.Kb(),s.Kb(),s.Lb(6,"ion-content",1),s.Lb(7,"ion-card",1),s.Lb(8,"table"),s.Lb(9,"thead"),s.Lb(10,"tr"),s.Lb(11,"th"),s.kc(12,"Joined On"),s.Kb(),s.Lb(13,"th"),s.kc(14,"Detail"),s.Kb(),s.Lb(15,"th"),s.kc(16,"Car Detail"),s.Kb(),s.Lb(17,"th"),s.kc(18,"Type"),s.Kb(),s.Lb(19,"th"),s.kc(20,"Status"),s.Kb(),s.Lb(21,"th"),s.kc(22,"Actions"),s.Kb(),s.Kb(),s.Kb(),s.Lb(23,"tbody"),s.jc(24,h,28,14,"tr",2),s.Kb(),s.Kb(),s.Kb(),s.Kb()),2&t&&(s.yb(5),s.mc("Drivers - ",e.drivers.length,""),s.yb(19),s.bc("ngForOf",e.drivers))},directives:[c.m,c.I,c.h,c.t,c.G,c.k,c.i,o.j,o.k,c.g,c.P,a.h,c.n],pipes:[o.e],styles:["p[_ngcontent-%COMP%]{margin:4px;color:#777}.bold[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#222}"]}),v)}],L=((m=function e(){t(this,e)}).\u0275mod=s.Gb({type:m}),m.\u0275inj=s.Fb({factory:function(t){return new(t||m)},imports:[[a.i.forChild(k)],a.i]}),m),K=((y=function e(){t(this,e)}).\u0275mod=s.Gb({type:y}),y.\u0275inj=s.Fb({factory:function(t){return new(t||y)},imports:[[o.c,b.b,c.J,L]]}),y)}}])}();