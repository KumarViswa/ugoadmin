(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{vI8w:function(e,n,t){"use strict";t.r(n),t.d(n,"DriverinfoPageModule",(function(){return M}));var i=t("ofXK"),b=t("3Pt+"),o=t("TEn/"),c=t("tyNb"),r=t("fXoL"),a=t("hrwK"),s=t("cnYv"),l=t("sSZD");let d=(()=>{class e{constructor(e){this.db=e}getDriverTransaction(e){return this.db.list("transactions",n=>n.orderByChild("userId").equalTo(e))}getRiderTransaction(e){}}return e.\u0275fac=function(n){return new(n||e)(r.Pb(l.a))},e.\u0275prov=r.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=t("OlR4");function g(e,n){if(1&e&&(r.Lb(0,"a",18),r.kc(1,"View Image"),r.Kb()),2&e){const e=r.Vb(2);r.cc("href",e.driver.carImg,r.hc)}}function h(e,n){if(1&e&&(r.Lb(0,"ion-item"),r.Lb(1,"ion-label"),r.kc(2,"Documents"),r.Kb(),r.Lb(3,"a",19),r.kc(4,"View / Download"),r.Kb(),r.Kb()),2&e){const e=r.Vb(2);r.yb(3),r.cc("href",e.driver.docsURL,r.hc)}}function L(e,n){if(1&e){const e=r.Mb();r.Lb(0,"div"),r.Lb(1,"ion-list",2),r.Lb(2,"ion-item"),r.Lb(3,"ion-label",11),r.kc(4,"CAR TYPE"),r.Kb(),r.Lb(5,"ion-input",12),r.Tb("ngModelChange",(function(n){return r.gc(e),r.Vb().driver.type=n})),r.Kb(),r.Kb(),r.Lb(6,"ion-item"),r.Lb(7,"ion-label",11),r.kc(8,"PLATE NUMBER"),r.Kb(),r.Lb(9,"ion-input",13),r.Tb("ngModelChange",(function(n){return r.gc(e),r.Vb().driver.plate=n})),r.Kb(),r.Kb(),r.Lb(10,"ion-item"),r.Lb(11,"ion-label",11),r.kc(12,"CAR BRAND"),r.Kb(),r.Lb(13,"ion-input",13),r.Tb("ngModelChange",(function(n){return r.gc(e),r.Vb().driver.brand=n})),r.Kb(),r.jc(14,g,2,1,"a",14),r.Kb(),r.jc(15,h,5,1,"ion-item",15),r.Lb(16,"ion-item"),r.Lb(17,"ion-label",11),r.kc(18,"Bank Info"),r.Kb(),r.Lb(19,"ion-textarea",16),r.Tb("ngModelChange",(function(n){return r.gc(e),r.Vb().driver.bankinfo=n})),r.Kb(),r.Kb(),r.Kb(),r.Lb(20,"ion-button",17),r.Tb("click",(function(){return r.gc(e),r.Vb().update()})),r.kc(21,"Update"),r.Kb(),r.Kb()}if(2&e){const e=r.Vb();r.yb(5),r.bc("ngModel",e.driver.type),r.yb(4),r.bc("ngModel",e.driver.plate),r.yb(4),r.bc("ngModel",e.driver.brand),r.yb(1),r.bc("ngIf",null!=e.driver.carImg),r.yb(1),r.bc("ngIf",e.driver.docsURL),r.yb(4),r.bc("ngModel",e.driver.bankinfo)}}function f(e,n){if(1&e&&(r.Lb(0,"ion-col"),r.Lb(1,"p"),r.kc(2),r.Kb(),r.Kb()),2&e){const e=r.Vb().$implicit;r.yb(2),r.nc("Discount: ",e.discount," (",e.promo,")")}}function p(e,n){if(1&e&&(r.Lb(0,"ion-item"),r.Lb(1,"ion-label"),r.Lb(2,"ion-text"),r.Lb(3,"p"),r.kc(4),r.Kb(),r.Kb(),r.Lb(5,"ion-text"),r.Lb(6,"h3"),r.Lb(7,"span",21),r.kc(8,"\u2022"),r.Kb(),r.kc(9),r.Kb(),r.Lb(10,"p"),r.kc(11),r.Wb(12,"date"),r.Kb(),r.Kb(),r.Lb(13,"ion-text"),r.Lb(14,"h3"),r.Lb(15,"span",22),r.kc(16,"\u2022"),r.Kb(),r.kc(17),r.Kb(),r.Lb(18,"p"),r.kc(19),r.Wb(20,"date"),r.Kb(),r.Kb(),r.Lb(21,"ion-text"),r.Lb(22,"ion-row"),r.Lb(23,"ion-col"),r.Lb(24,"p"),r.kc(25),r.Kb(),r.Kb(),r.jc(26,f,3,2,"ion-col",15),r.Lb(27,"ion-col"),r.Lb(28,"p"),r.kc(29),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(30,"ion-badge",23),r.kc(31),r.Kb(),r.Kb()),2&e){const e=n.$implicit;r.yb(4),r.mc("ID: ",e.createdAt,""),r.yb(5),r.mc(" ",e.origin.vicinity,""),r.yb(2),r.lc(r.Yb(12,11,e.pickedUpAt,"medium")),r.yb(6),r.mc(" ",e.destination.vicinity,""),r.yb(2),r.lc(r.Yb(20,14,e.droppedOffAt,"medium")),r.yb(6),r.nc("FEE: ",e.currency," ",e.fee,""),r.yb(1),r.bc("ngIf",0!=e.discount),r.yb(3),r.mc("Payment Mode: ",e.paymentMethod,""),r.yb(2),r.nc(" ",e.currency," ",(e.fee-e.fee*e.discount/100).toFixed(2)," ")}}function K(e,n){if(1&e&&(r.Lb(0,"div"),r.Lb(1,"ion-list",2),r.jc(2,p,32,17,"ion-item",20),r.Kb(),r.Kb()),2&e){const e=r.Vb();r.yb(2),r.bc("ngForOf",e.trips)}}function v(e,n){if(1&e&&(r.Lb(0,"ion-item"),r.Lb(1,"ion-label"),r.Lb(2,"ion-text",24),r.Lb(3,"p"),r.kc(4),r.Wb(5,"date"),r.Kb(),r.Kb(),r.Lb(6,"ion-text"),r.Lb(7,"h3"),r.kc(8,"Requested "),r.Lb(9,"ion-badge"),r.kc(10),r.Kb(),r.kc(11," is "),r.Lb(12,"code"),r.kc(13),r.Kb(),r.Kb(),r.Lb(14,"p"),r.kc(15),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&e){const e=n.$implicit;r.yb(4),r.lc(r.Yb(5,5,e.createdAt,"medium")),r.yb(6),r.lc(e.amount),r.yb(3),r.lc(e.status),r.yb(2),r.nc("Ref: ",e.createdAt," / Type: ",e.type," ")}}function y(e,n){if(1&e&&(r.Lb(0,"div"),r.Lb(1,"ion-list",2),r.jc(2,v,16,8,"ion-item",20),r.Kb(),r.Kb()),2&e){const e=r.Vb();r.yb(2),r.bc("ngForOf",e.records)}}const m=[{path:"",component:(()=>{class e{constructor(e,n,t,i,b){this.route=e,this.driverService=n,this.tripService=t,this.transactionService=i,this.cs=b,this.driver={},this.tabs="carinfo",this.trips=[],this.records=[]}ngOnInit(){this.key=this.route.snapshot.paramMap.get("id"),this.getDriverInfo()}getDriverInfo(){this.driverService.getDriver(this.key).valueChanges().subscribe(e=>{console.log(e),null!=e&&(this.driver=e)})}getTrips(){this.tripService.getDriverTrips(this.key).valueChanges().subscribe(e=>{console.log(e),null!=e&&(this.trips=e)})}getWallet(){this.transactionService.getDriverTransaction(this.key).valueChanges().subscribe(e=>{console.log(e),null!=e&&(this.records=e)})}update(){this.driverService.updateDriver(this.key,this.driver).then(()=>{this.cs.showToast("Updated")})}}return e.\u0275fac=function(n){return new(n||e)(r.Ib(c.a),r.Ib(a.a),r.Ib(s.a),r.Ib(d),r.Ib(u.a))},e.\u0275cmp=r.Cb({type:e,selectors:[["app-driverinfo"]],decls:31,vars:11,consts:[["slot","start"],[1,"ion-padding"],["lines","none"],[3,"src"],[3,"href"],["mode","ios",3,"ngModel","ngModelChange"],["value","carinfo"],["value","ridehistroy",3,"click"],["value","wallet",3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"],["position","stacked"],["type","text","disabled","",3,"ngModel","ngModelChange"],["type","text",3,"ngModel","ngModelChange"],["target","_blank","ion-button","","item-right","","clear","",3,"href",4,"ngIf"],[4,"ngIf"],[3,"ngModel","ngModelChange"],[3,"click"],["target","_blank","ion-button","","item-right","","clear","",3,"href"],["target","_blank","ion-button","","item-right","",3,"href"],[4,"ngFor","ngForOf"],[2,"color","#4CAF50"],[2,"color","#F44336"],["slot","end"],["color","medium"]],template:function(e,n){1&e&&(r.Lb(0,"ion-header"),r.Lb(1,"ion-toolbar"),r.Lb(2,"ion-buttons",0),r.Jb(3,"ion-back-button"),r.Kb(),r.Jb(4,"ion-title"),r.Kb(),r.Kb(),r.Lb(5,"ion-content",1),r.Lb(6,"ion-card",1),r.Lb(7,"ion-item",2),r.Lb(8,"ion-avatar",0),r.Jb(9,"img",3),r.Kb(),r.Lb(10,"ion-label"),r.Lb(11,"ion-text"),r.Lb(12,"h3"),r.kc(13),r.Kb(),r.Kb(),r.Lb(14,"ion-text"),r.Lb(15,"p"),r.kc(16),r.Kb(),r.Kb(),r.Lb(17,"ion-text"),r.Lb(18,"a",4),r.kc(19),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(20,"ion-segment",5),r.Tb("ngModelChange",(function(e){return n.tabs=e})),r.Lb(21,"ion-segment-button",6),r.kc(22," CAR INFORMATION "),r.Kb(),r.Lb(23,"ion-segment-button",7),r.Tb("click",(function(){return n.getTrips()})),r.kc(24," Ride History "),r.Kb(),r.Lb(25,"ion-segment-button",8),r.Tb("click",(function(){return n.getWallet()})),r.kc(26),r.Kb(),r.Kb(),r.Lb(27,"div",9),r.jc(28,L,22,6,"div",10),r.jc(29,K,3,1,"div",10),r.jc(30,y,3,1,"div",10),r.Kb(),r.Kb(),r.Kb()),2&e&&(r.yb(9),r.cc("src",n.driver.photoURL,r.hc),r.yb(4),r.lc(n.driver.name),r.yb(3),r.lc(n.driver.email),r.yb(2),r.dc("href","tel:",n.driver.phoneNumber,"",r.hc),r.yb(1),r.mc("Call: ",n.driver.phoneNumber,""),r.yb(1),r.bc("ngModel",n.tabs),r.yb(6),r.mc(" Wallet (",n.driver.balance,") "),r.yb(1),r.bc("ngSwitch",n.tabs),r.yb(1),r.bc("ngSwitchCase","carinfo"),r.yb(1),r.bc("ngSwitchCase","ridehistroy"),r.yb(1),r.bc("ngSwitchCase","wallet"))},directives:[o.m,o.I,o.h,o.d,o.e,o.G,o.k,o.i,o.p,o.c,o.q,o.E,o.z,o.Q,b.e,b.f,o.A,i.l,i.m,o.r,o.o,o.R,i.k,o.F,o.g,i.j,o.y,o.j,o.f],pipes:[i.e],styles:["h3[_ngcontent-%COMP%]{font-weight:500}p[_ngcontent-%COMP%]{color:#777}"]}),e})()}];let k=(()=>{class e{}return e.\u0275mod=r.Gb({type:e}),e.\u0275inj=r.Fb({factory:function(n){return new(n||e)},imports:[[c.i.forChild(m)],c.i]}),e})(),M=(()=>{class e{}return e.\u0275mod=r.Gb({type:e}),e.\u0275inj=r.Fb({factory:function(n){return new(n||e)},imports:[[i.c,b.b,o.J,k]]}),e})()}}]);