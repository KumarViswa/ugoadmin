!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{AYfz:function(e,i,o){"use strict";o.r(i),o.d(i,"TripsPageModule",(function(){return k}));var b=o("ofXK"),r=o("3Pt+"),c=o("TEn/"),a=o("tyNb"),s=o("fXoL"),p=o("cnYv"),d=o("OlR4");function l(t,n){if(1&t&&(s.Lb(0,"p"),s.kc(1),s.Kb()),2&t){var e=s.Vb();s.yb(1),s.nc("No Trips found between ",e.startDate," - ",e.endDate,"")}}function u(t,n){if(1&t&&(s.Lb(0,"p"),s.Lb(1,"b"),s.kc(2),s.Kb(),s.kc(3," found between "),s.Lb(4,"b"),s.kc(5),s.Kb(),s.Kb()),2&t){var e=s.Vb();s.yb(2),s.mc("",e.trips.length," Trips"),s.yb(3),s.nc("",e.startDate," - ",e.endDate,"")}}function f(t,n){if(1&t&&(s.Lb(0,"tbody"),s.Lb(1,"tr"),s.Lb(2,"td",7),s.Lb(3,"p"),s.Lb(4,"span",8),s.kc(5),s.Kb(),s.kc(6),s.Wb(7,"date"),s.Kb(),s.Lb(8,"p",9),s.Jb(9,"ion-icon",10),s.kc(10),s.Lb(11,"span",11),s.kc(12),s.Wb(13,"date"),s.Kb(),s.Kb(),s.Lb(14,"p",9),s.Jb(15,"ion-icon",12),s.kc(16),s.Lb(17,"span",11),s.kc(18),s.Wb(19,"date"),s.Kb(),s.Kb(),s.Kb(),s.Lb(20,"td"),s.Lb(21,"p"),s.kc(22),s.Kb(),s.Kb(),s.Lb(23,"td"),s.Lb(24,"p"),s.kc(25),s.Kb(),s.Kb(),s.Lb(26,"td"),s.Lb(27,"p"),s.kc(28),s.Kb(),s.Kb(),s.Lb(29,"td"),s.Lb(30,"ion-button",13),s.Jb(31,"ion-icon",14),s.Kb(),s.Lb(32,"ion-button",13),s.Jb(33,"ion-icon",15),s.Kb(),s.Kb(),s.Kb(),s.Kb()),2&t){var e=n.$implicit;s.yb(5),s.mc("#",e.createdAt,""),s.yb(1),s.mc(" ",s.Yb(7,14,e.createdAt,"MMM dd, yyyy hh:mm a"),""),s.yb(4),s.mc(" ",e.origin.vicinity," - "),s.yb(2),s.lc(s.Yb(13,17,e.pickedUpAt,"shortTime")),s.yb(4),s.mc(" ",e.destination.vicinity," - "),s.yb(2),s.lc(s.Yb(19,20,e.droppedOffAt,"shortTime")),s.yb(4),s.lc(e.status),s.yb(3),s.oc("",e.currency," ",e.fee," - ",e.paymentMethod,""),s.yb(3),s.nc("",e.currency," ",e.commission,""),s.yb(2),s.dc("routerLink","/driverinfo/",e.driverId,""),s.yb(2),s.dc("routerLink","/passengerinfo/",e.passengerId,"")}}function g(t,n){if(1&t&&(s.Lb(0,"table"),s.Lb(1,"thead"),s.Lb(2,"th"),s.kc(3,"Location"),s.Kb(),s.Lb(4,"th"),s.kc(5,"Status"),s.Kb(),s.Lb(6,"th"),s.kc(7,"Fee"),s.Kb(),s.Lb(8,"th"),s.kc(9,"Commission"),s.Kb(),s.Lb(10,"th"),s.kc(11,"Action"),s.Kb(),s.Kb(),s.jc(12,f,34,23,"tbody",6),s.Kb()),2&t){var e=s.Vb();s.yb(12),s.bc("ngForOf",e.trips)}}var h,y,m,L=[{path:"",component:(h=function(){function e(n,i){t(this,e),this.tripService=n,this.cs=i,this.trips=[],this.today=(new Date).toISOString().substring(0,10),this.startDate=this.today,this.endDate=this.today}var i,o,b;return i=e,(o=[{key:"ngOnInit",value:function(){this.filter()}},{key:"getTrips",value:function(){var t=this;this.tripService.getTrips().valueChanges().subscribe((function(n){null!=n&&(t.trips=n)}))}},{key:"filter",value:function(){var t=this;console.log(this.startDate,this.endDate);var n=new Date(this.startDate);n.setHours(0,0,0,0);var e=new Date(this.endDate);e.setHours(23,59,59,999),console.log(n.getTime(),e.getTime()),this.cs.showLoader(),this.tripService.filterTrip(n.getTime(),e.getTime()).valueChanges().subscribe((function(n){t.trips=n,t.cs.hideLoader()}))}}])&&n(i.prototype,o),b&&n(i,b),e}(),h.\u0275fac=function(t){return new(t||h)(s.Ib(p.a),s.Ib(d.a))},h.\u0275cmp=s.Cb({type:h,selectors:[["app-trips"]],decls:20,vars:9,consts:[["slot","start"],[1,"ion-padding"],["type","date",3,"max","ngModel","ngModelChange"],["type","date",3,"min","max","ngModel","ngModelChange"],["fill","outline","size","small",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"width","50%"],[1,"trip-id"],[1,"trip-place"],["name","pin","color","danger"],[1,"trip-time"],["name","pin","color","success"],["size","small","fill","clear","color","primary",3,"routerLink"],["name","car"],["name","person"]],template:function(t,n){1&t&&(s.Lb(0,"ion-header"),s.Lb(1,"ion-toolbar"),s.Lb(2,"ion-buttons",0),s.Jb(3,"ion-menu-button"),s.Kb(),s.Lb(4,"ion-title"),s.kc(5),s.Kb(),s.Kb(),s.Kb(),s.Lb(6,"ion-content",1),s.Lb(7,"div"),s.kc(8," From: "),s.Lb(9,"input",2),s.Tb("ngModelChange",(function(t){return n.startDate=t})),s.Kb(),s.kc(10," To: "),s.Lb(11,"input",3),s.Tb("ngModelChange",(function(t){return n.endDate=t})),s.Kb(),s.Lb(12,"ion-button",4),s.Tb("click",(function(){return n.filter()})),s.kc(13,"Filter"),s.Kb(),s.Kb(),s.Jb(14,"br"),s.Lb(15,"ion-card",1),s.jc(16,l,2,2,"p",5),s.jc(17,u,6,3,"p",5),s.Jb(18,"br"),s.jc(19,g,13,1,"table",5),s.Kb(),s.Kb()),2&t&&(s.yb(5),s.mc("Trips - ",n.trips.length,""),s.yb(4),s.cc("max",n.today),s.bc("ngModel",n.startDate),s.yb(2),s.cc("min",n.startDate),s.cc("max",n.today),s.bc("ngModel",n.endDate),s.yb(5),s.bc("ngIf",0==n.trips.length),s.yb(1),s.bc("ngIf",0!=n.trips.length),s.yb(2),s.bc("ngIf",0!=n.trips.length))},directives:[c.m,c.I,c.h,c.t,c.G,c.k,r.a,r.e,r.f,c.g,c.i,b.k,b.j,c.n,c.P,a.h],pipes:[b.e],styles:["h3[_ngcontent-%COMP%]{font-weight:500}p[_ngcontent-%COMP%]{color:#777;margin:0;line-height:1.8;font-size:14px}.trip-card[_ngcontent-%COMP%]{box-shadow:1px 1px 5px #eee;padding:12px;border-radius:4px;margin:4px}.trip-time[_ngcontent-%COMP%]{color:#777}.trip-id[_ngcontent-%COMP%], .trip-place[_ngcontent-%COMP%]{font-weight:500}.trip-place[_ngcontent-%COMP%]{color:#333}b[_ngcontent-%COMP%]{color:#000}"]}),h)}],K=((m=function n(){t(this,n)}).\u0275mod=s.Gb({type:m}),m.\u0275inj=s.Fb({factory:function(t){return new(t||m)},imports:[[a.i.forChild(L)],a.i]}),m),k=((y=function n(){t(this,n)}).\u0275mod=s.Gb({type:y}),y.\u0275inj=s.Fb({factory:function(t){return new(t||y)},imports:[[b.c,r.b,c.J,K]]}),y)}}])}();