(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{AYfz:function(t,n,e){"use strict";e.r(n),e.d(n,"TripsPageModule",(function(){return f}));var i=e("ofXK"),b=e("3Pt+"),o=e("TEn/"),c=e("tyNb"),r=e("fXoL"),s=e("cnYv"),a=e("OlR4");function p(t,n){if(1&t&&(r.Lb(0,"p"),r.kc(1),r.Kb()),2&t){const t=r.Vb();r.yb(1),r.nc("No Trips found between ",t.startDate," - ",t.endDate,"")}}function d(t,n){if(1&t&&(r.Lb(0,"p"),r.Lb(1,"b"),r.kc(2),r.Kb(),r.kc(3," found between "),r.Lb(4,"b"),r.kc(5),r.Kb(),r.Kb()),2&t){const t=r.Vb();r.yb(2),r.mc("",t.trips.length," Trips"),r.yb(3),r.nc("",t.startDate," - ",t.endDate,"")}}function l(t,n){if(1&t&&(r.Lb(0,"tbody"),r.Lb(1,"tr"),r.Lb(2,"td",7),r.Lb(3,"p"),r.Lb(4,"span",8),r.kc(5),r.Kb(),r.kc(6),r.Wb(7,"date"),r.Kb(),r.Lb(8,"p",9),r.Jb(9,"ion-icon",10),r.kc(10),r.Lb(11,"span",11),r.kc(12),r.Wb(13,"date"),r.Kb(),r.Kb(),r.Lb(14,"p",9),r.Jb(15,"ion-icon",12),r.kc(16),r.Lb(17,"span",11),r.kc(18),r.Wb(19,"date"),r.Kb(),r.Kb(),r.Kb(),r.Lb(20,"td"),r.Lb(21,"p"),r.kc(22),r.Kb(),r.Kb(),r.Lb(23,"td"),r.Lb(24,"p"),r.kc(25),r.Kb(),r.Kb(),r.Lb(26,"td"),r.Lb(27,"p"),r.kc(28),r.Kb(),r.Kb(),r.Lb(29,"td"),r.Lb(30,"ion-button",13),r.Jb(31,"ion-icon",14),r.Kb(),r.Lb(32,"ion-button",13),r.Jb(33,"ion-icon",15),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t){const t=n.$implicit;r.yb(5),r.mc("#",t.createdAt,""),r.yb(1),r.mc(" ",r.Yb(7,14,t.createdAt,"MMM dd, yyyy hh:mm a"),""),r.yb(4),r.mc(" ",t.origin.vicinity," - "),r.yb(2),r.lc(r.Yb(13,17,t.pickedUpAt,"shortTime")),r.yb(4),r.mc(" ",t.destination.vicinity," - "),r.yb(2),r.lc(r.Yb(19,20,t.droppedOffAt,"shortTime")),r.yb(4),r.lc(t.status),r.yb(3),r.oc("",t.currency," ",t.fee," - ",t.paymentMethod,""),r.yb(3),r.nc("",t.currency," ",t.commission,""),r.yb(2),r.dc("routerLink","/driverinfo/",t.driverId,""),r.yb(2),r.dc("routerLink","/passengerinfo/",t.passengerId,"")}}function g(t,n){if(1&t&&(r.Lb(0,"table"),r.Lb(1,"thead"),r.Lb(2,"th"),r.kc(3,"Location"),r.Kb(),r.Lb(4,"th"),r.kc(5,"Status"),r.Kb(),r.Lb(6,"th"),r.kc(7,"Fee"),r.Kb(),r.Lb(8,"th"),r.kc(9,"Commission"),r.Kb(),r.Lb(10,"th"),r.kc(11,"Action"),r.Kb(),r.Kb(),r.jc(12,l,34,23,"tbody",6),r.Kb()),2&t){const t=r.Vb();r.yb(12),r.bc("ngForOf",t.trips)}}const h=[{path:"",component:(()=>{class t{constructor(t,n){this.tripService=t,this.cs=n,this.trips=[],this.today=(new Date).toISOString().substring(0,10),this.startDate=this.today,this.endDate=this.today}ngOnInit(){this.filter()}getTrips(){this.tripService.getTrips().valueChanges().subscribe(t=>{null!=t&&(this.trips=t)})}filter(){console.log(this.startDate,this.endDate);let t=new Date(this.startDate);t.setHours(0,0,0,0);let n=new Date(this.endDate);n.setHours(23,59,59,999),console.log(t.getTime(),n.getTime()),this.cs.showLoader(),this.tripService.filterTrip(t.getTime(),n.getTime()).valueChanges().subscribe(t=>{this.trips=t,this.cs.hideLoader()})}}return t.\u0275fac=function(n){return new(n||t)(r.Ib(s.a),r.Ib(a.a))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-trips"]],decls:20,vars:9,consts:[["slot","start"],[1,"ion-padding"],["type","date",3,"max","ngModel","ngModelChange"],["type","date",3,"min","max","ngModel","ngModelChange"],["fill","outline","size","small",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"width","50%"],[1,"trip-id"],[1,"trip-place"],["name","pin","color","danger"],[1,"trip-time"],["name","pin","color","success"],["size","small","fill","clear","color","primary",3,"routerLink"],["name","car"],["name","person"]],template:function(t,n){1&t&&(r.Lb(0,"ion-header"),r.Lb(1,"ion-toolbar"),r.Lb(2,"ion-buttons",0),r.Jb(3,"ion-menu-button"),r.Kb(),r.Lb(4,"ion-title"),r.kc(5),r.Kb(),r.Kb(),r.Kb(),r.Lb(6,"ion-content",1),r.Lb(7,"div"),r.kc(8," From: "),r.Lb(9,"input",2),r.Tb("ngModelChange",(function(t){return n.startDate=t})),r.Kb(),r.kc(10," To: "),r.Lb(11,"input",3),r.Tb("ngModelChange",(function(t){return n.endDate=t})),r.Kb(),r.Lb(12,"ion-button",4),r.Tb("click",(function(){return n.filter()})),r.kc(13,"Filter"),r.Kb(),r.Kb(),r.Jb(14,"br"),r.Lb(15,"ion-card",1),r.jc(16,p,2,2,"p",5),r.jc(17,d,6,3,"p",5),r.Jb(18,"br"),r.jc(19,g,13,1,"table",5),r.Kb(),r.Kb()),2&t&&(r.yb(5),r.mc("Trips - ",n.trips.length,""),r.yb(4),r.cc("max",n.today),r.bc("ngModel",n.startDate),r.yb(2),r.cc("min",n.startDate),r.cc("max",n.today),r.bc("ngModel",n.endDate),r.yb(5),r.bc("ngIf",0==n.trips.length),r.yb(1),r.bc("ngIf",0!=n.trips.length),r.yb(2),r.bc("ngIf",0!=n.trips.length))},directives:[o.m,o.I,o.h,o.t,o.G,o.k,b.a,b.e,b.f,o.g,o.i,i.k,i.j,o.n,o.P,c.h],pipes:[i.e],styles:["h3[_ngcontent-%COMP%]{font-weight:500}p[_ngcontent-%COMP%]{color:#777;margin:0;line-height:1.8;font-size:14px}.trip-card[_ngcontent-%COMP%]{box-shadow:1px 1px 5px #eee;padding:12px;border-radius:4px;margin:4px}.trip-time[_ngcontent-%COMP%]{color:#777}.trip-id[_ngcontent-%COMP%], .trip-place[_ngcontent-%COMP%]{font-weight:500}.trip-place[_ngcontent-%COMP%]{color:#333}b[_ngcontent-%COMP%]{color:#000}"]}),t})()}];let u=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(n){return new(n||t)},imports:[[c.i.forChild(h)],c.i]}),t})(),f=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(n){return new(n||t)},imports:[[i.c,b.b,o.J,u]]}),t})()}}]);