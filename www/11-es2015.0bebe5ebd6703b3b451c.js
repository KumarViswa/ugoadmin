(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{vBQD:function(n,t,c){"use strict";c.r(t),c.d(t,"CarsPageModule",(function(){return y}));var e=c("ofXK"),r=c("3Pt+"),s=c("TEn/"),b=c("tyNb"),o=c("fXoL"),i=c("sSZD"),a=c("OlR4");function l(n,t){if(1&n&&(o.Lb(0,"p"),o.kc(1),o.Kb()),2&n){const n=o.Vb().index,t=o.Vb();o.yb(1),o.nc("",t.currency," ",t.cars[n].commission_value,"")}}function u(n,t){if(1&n&&(o.Lb(0,"p"),o.kc(1),o.Kb()),2&n){const n=o.Vb().index,t=o.Vb();o.yb(1),o.mc("",t.cars[n].commission_value," %")}}function d(n,t){if(1&n&&(o.Lb(0,"tr"),o.Lb(1,"td"),o.Lb(2,"p",8),o.kc(3),o.Jb(4,"br"),o.Lb(5,"span",9),o.kc(6),o.Kb(),o.Kb(),o.Kb(),o.Lb(7,"td"),o.Lb(8,"p"),o.kc(9),o.Kb(),o.Lb(10,"p"),o.kc(11),o.Kb(),o.Kb(),o.Lb(12,"td"),o.kc(13),o.Kb(),o.Lb(14,"td"),o.jc(15,l,2,2,"p",10),o.jc(16,u,2,1,"p",10),o.Kb(),o.Lb(17,"td"),o.Lb(18,"ion-button",11),o.kc(19,"Edit"),o.Kb(),o.Kb(),o.Kb()),2&n){const n=t.index,c=o.Vb();o.yb(3),o.mc("",c.cars[n].name," "),o.yb(3),o.mc("",null==c.cars[n]?null:c.cars[n].seats," seats"),o.yb(3),o.oc("",c.currency," ",null==c.cars[n]?null:c.cars[n].base_fare," / km for first ",null==c.cars[n]?null:c.cars[n].base_km," km"),o.yb(2),o.oc("",c.currency," ",null==c.cars[n]?null:c.cars[n].per_km," / km after ",null==c.cars[n]?null:c.cars[n].base_km," km"),o.yb(2),o.mc(" ",c.cars[n].tax," % "),o.yb(2),o.bc("ngIf","fixed"==c.cars[n].commission_type),o.yb(1),o.bc("ngIf","percentage"==c.cars[n].commission_type),o.yb(2),o.dc("routerLink","/editcar/",c.cars[n].key,"")}}const p=[{path:"",component:(()=>{class n{constructor(n,t){this.db=n,this.commonService=t,this.cars=[],this.newCar={name:"",icon:"",type:"",price:0,enable:!0},this.carTemp=[],this.isEdit=!1}ngOnInit(){this.getCarInfo()}getCarInfo(){this.db.object("master_settings/prices/default/currency").valueChanges().subscribe(n=>{console.log(n),this.currency=n}),this.db.list("master_settings/prices/default/vehicles/").snapshotChanges().subscribe(n=>{let t=[];n.forEach(n=>(t.push(Object.assign({key:n.key},n.payload.val())),!1)),this.cars=t})}updateCurrency(){this.db.object("master_settings/prices/default/currency").set(this.currency).then(()=>{this.commonService.showToast("Updated")})}}return n.\u0275fac=function(t){return new(t||n)(o.Ib(i.a),o.Ib(a.a))},n.\u0275cmp=o.Cb({type:n,selectors:[["app-cars"]],decls:31,vars:2,consts:[["slot","start"],[1,"ion-padding"],[2,"width","200px"],[3,"ngModel","ngModelChange"],["slot","end","size","small",3,"click"],[2,"float","right","padding","12px"],["size","small","routerLink","/addcar"],[4,"ngFor","ngForOf"],[1,"car-name"],[1,"seats"],[4,"ngIf"],["fill","clear","size","small",3,"routerLink"]],template:function(n,t){1&n&&(o.Lb(0,"ion-header"),o.Lb(1,"ion-toolbar"),o.Lb(2,"ion-buttons",0),o.Jb(3,"ion-menu-button"),o.Kb(),o.Lb(4,"ion-title"),o.kc(5,"cars"),o.Kb(),o.Kb(),o.Kb(),o.Lb(6,"ion-content",1),o.Lb(7,"div",2),o.Lb(8,"p"),o.kc(9,"Currency Symbol"),o.Kb(),o.Lb(10,"ion-input",3),o.Tb("ngModelChange",(function(n){return t.currency=n})),o.Kb(),o.Lb(11,"ion-button",4),o.Tb("click",(function(){return t.updateCurrency()})),o.kc(12,"Update"),o.Kb(),o.Kb(),o.Lb(13,"ion-card",1),o.Lb(14,"div",5),o.Lb(15,"ion-button",6),o.kc(16,"Add New Car"),o.Kb(),o.Kb(),o.Lb(17,"table"),o.Lb(18,"thead"),o.Lb(19,"th"),o.kc(20,"Name"),o.Kb(),o.Lb(21,"th"),o.kc(22,"Pricing"),o.Kb(),o.Lb(23,"th"),o.kc(24,"Tax"),o.Kb(),o.Lb(25,"th"),o.kc(26,"Commission"),o.Kb(),o.Lb(27,"th"),o.kc(28,"More"),o.Kb(),o.Kb(),o.Lb(29,"tbody"),o.jc(30,d,20,12,"tr",7),o.Kb(),o.Kb(),o.Kb(),o.Kb()),2&n&&(o.yb(10),o.bc("ngModel",t.currency),o.yb(20),o.bc("ngForOf",t.cars))},directives:[s.m,s.I,s.h,s.t,s.G,s.k,s.o,s.R,r.e,r.f,s.g,s.i,s.P,b.h,e.j,e.k],styles:["p[_ngcontent-%COMP%]{color:#777;margin:4px}.seats[_ngcontent-%COMP%]{color:#444}.car-name[_ngcontent-%COMP%]{color:#333}"]}),n})()}];let m=(()=>{class n{}return n.\u0275mod=o.Gb({type:n}),n.\u0275inj=o.Fb({factory:function(t){return new(t||n)},imports:[[b.i.forChild(p)],b.i]}),n})(),y=(()=>{class n{}return n.\u0275mod=o.Gb({type:n}),n.\u0275inj=o.Fb({factory:function(t){return new(t||n)},imports:[[e.c,r.b,s.J,m]]}),n})()}}]);