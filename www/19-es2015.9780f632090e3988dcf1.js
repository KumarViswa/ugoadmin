(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"0m0R":function(o,e,t){"use strict";t.r(e),t.d(e,"PromosPageModule",(function(){return g}));var n=t("ofXK"),c=t("3Pt+"),i=t("TEn/"),b=t("tyNb"),s=t("fXoL"),r=t("sSZD"),d=t("OlR4");function l(o,e){if(1&o){const o=s.Mb();s.Lb(0,"tr"),s.Lb(1,"td"),s.kc(2),s.Kb(),s.Lb(3,"td"),s.kc(4),s.Kb(),s.Lb(5,"td"),s.kc(6),s.Kb(),s.Lb(7,"td"),s.Lb(8,"ion-button",12),s.Tb("click",(function(){s.gc(o);const t=e.index,n=s.Vb();return n.edit(n.promocodes[t])})),s.kc(9,"Edit"),s.Kb(),s.Kb(),s.Kb()}if(2&o){const o=e.index,t=s.Vb();s.yb(2),s.mc(" ",t.promocodes[o].title," "),s.yb(2),s.mc(" ",t.promocodes[o].code," "),s.yb(2),s.mc(" ",t.promocodes[o].discount," ")}}function a(o,e){if(1&o){const o=s.Mb();s.Lb(0,"ion-button",13),s.Tb("click",(function(){return s.gc(o),s.Vb().add()})),s.kc(1,"Add"),s.Kb()}}function m(o,e){if(1&o){const o=s.Mb();s.Lb(0,"ion-button",13),s.Tb("click",(function(){return s.gc(o),s.Vb().update()})),s.kc(1,"Update"),s.Kb()}}function h(o,e){if(1&o){const o=s.Mb();s.Lb(0,"ion-button",14),s.Tb("click",(function(){return s.gc(o),s.Vb().delete()})),s.kc(1,"Delete "),s.Kb()}}function p(o,e){if(1&o){const o=s.Mb();s.Lb(0,"ion-button",15),s.Tb("click",(function(){return s.gc(o),s.Vb().reset()})),s.kc(1,"Reset"),s.Kb()}}const u=[{path:"",component:(()=>{class o{constructor(o,e){this.db=o,this.commonService=e,this.promocodes=[],this.newpromocode={},this.isEdit=!1}ngOnInit(){this.getPromos()}getPromos(){this.db.list("promocodes").snapshotChanges().subscribe(o=>{if(null!=o){let e=[];o.forEach(o=>(e.push(Object.assign({key:o.key},o.payload.val())),!1)),this.promocodes=e}})}add(){this.db.list("promocodes").push(this.newpromocode).then(()=>{this.commonService.showToast("Added"),this.reset()}).catch(()=>{this.commonService.showToast("Something went wrong")})}edit(o){this.isEdit=!0,this.newpromocode=o}reset(){this.isEdit=!1,this.newpromocode={}}update(){this.db.object("promocodes/"+this.newpromocode.key).update(this.newpromocode).then(o=>{this.commonService.showToast("Updated"),this.reset()}).catch(o=>{this.commonService.showToast("Something went wrong"),this.reset()})}delete(){this.db.object("promocodes/"+this.newpromocode.key).remove().then(()=>{this.commonService.showToast("Deleted"),this.reset()}).catch(()=>{this.commonService.showToast("Something went wrong"),this.reset()})}}return o.\u0275fac=function(e){return new(e||o)(s.Ib(r.a),s.Ib(d.a))},o.\u0275cmp=s.Cb({type:o,selectors:[["app-promos"]],decls:42,vars:8,consts:[["slot","start"],[1,"ion-padding"],["size","9"],[4,"ngFor","ngForOf"],["size","3"],["lines","none"],["position","stacked"],["type","text",3,"ngModel","ngModelChange"],["type","text","placeholder","without % symbol",3,"ngModel","ngModelChange"],["size","small","expand","block",3,"click",4,"ngIf"],["fill","clear","expand","block","color","danger","size","small",3,"click",4,"ngIf"],["fill","clear","expand","block","size","small",3,"click",4,"ngIf"],["fill","clear","size","small",3,"click"],["size","small","expand","block",3,"click"],["fill","clear","expand","block","color","danger","size","small",3,"click"],["fill","clear","expand","block","size","small",3,"click"]],template:function(o,e){1&o&&(s.Lb(0,"ion-header"),s.Lb(1,"ion-toolbar"),s.Lb(2,"ion-buttons",0),s.Jb(3,"ion-menu-button"),s.Kb(),s.Lb(4,"ion-title"),s.kc(5,"promos"),s.Kb(),s.Kb(),s.Kb(),s.Lb(6,"ion-content",1),s.Lb(7,"ion-row"),s.Lb(8,"ion-col",2),s.Lb(9,"ion-card",1),s.Lb(10,"table"),s.Lb(11,"thead"),s.Lb(12,"th"),s.kc(13,"Title"),s.Kb(),s.Lb(14,"th"),s.kc(15,"Code"),s.Kb(),s.Lb(16,"th"),s.kc(17,"Percentage"),s.Kb(),s.Lb(18,"th"),s.kc(19,"More"),s.Kb(),s.Kb(),s.Lb(20,"tbody"),s.jc(21,l,10,3,"tr",3),s.Kb(),s.Kb(),s.Kb(),s.Kb(),s.Lb(22,"ion-col",4),s.Lb(23,"ion-list",5),s.Lb(24,"ion-item"),s.Lb(25,"ion-label",6),s.kc(26,"Title"),s.Kb(),s.Lb(27,"ion-input",7),s.Tb("ngModelChange",(function(o){return e.newpromocode.title=o})),s.Kb(),s.Kb(),s.Lb(28,"ion-item"),s.Lb(29,"ion-label",6),s.kc(30,"CODE"),s.Kb(),s.Lb(31,"ion-input",7),s.Tb("ngModelChange",(function(o){return e.newpromocode.code=o})),s.Kb(),s.Kb(),s.Lb(32,"ion-item"),s.Lb(33,"ion-label",6),s.kc(34,"Discount Percentage"),s.Kb(),s.Lb(35,"ion-input",8),s.Tb("ngModelChange",(function(o){return e.newpromocode.discount=o})),s.Kb(),s.Kb(),s.Kb(),s.Lb(36,"div",1),s.jc(37,a,2,0,"ion-button",9),s.jc(38,m,2,0,"ion-button",9),s.jc(39,h,2,0,"ion-button",10),s.kc(40," \xa0\xa0 "),s.jc(41,p,2,0,"ion-button",11),s.Kb(),s.Kb(),s.Kb(),s.Kb()),2&o&&(s.yb(21),s.bc("ngForOf",e.promocodes),s.yb(6),s.bc("ngModel",e.newpromocode.title),s.yb(4),s.bc("ngModel",e.newpromocode.code),s.yb(4),s.bc("ngModel",e.newpromocode.discount),s.yb(2),s.bc("ngIf",!e.isEdit),s.yb(1),s.bc("ngIf",e.isEdit),s.yb(1),s.bc("ngIf",e.isEdit),s.yb(2),s.bc("ngIf",e.isEdit))},directives:[i.m,i.I,i.h,i.t,i.G,i.k,i.y,i.j,i.i,n.j,i.r,i.p,i.q,i.o,i.R,c.e,c.f,n.k,i.g],styles:[""]}),o})()}];let f=(()=>{class o{}return o.\u0275mod=s.Gb({type:o}),o.\u0275inj=s.Fb({factory:function(e){return new(e||o)},imports:[[b.i.forChild(u)],b.i]}),o})(),g=(()=>{class o{}return o.\u0275mod=s.Gb({type:o}),o.\u0275inj=s.Fb({factory:function(e){return new(e||o)},imports:[[n.c,c.b,i.J,f]]}),o})()}}]);